<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>Lab 5: Yelp</title><style>
/* cspell:disable-file */
/* webkit printing magic: print all background colors */
html {
	-webkit-print-color-adjust: exact;
}
* {
	box-sizing: border-box;
	-webkit-print-color-adjust: exact;
}

html,
body {
	margin: 0;
	padding: 0;
}
@media only screen {
	body {
		margin: 2em auto;
		max-width: 900px;
		color: rgb(55, 53, 47);
	}
}

body {
	line-height: 1.5;
	white-space: pre-wrap;
}

a,
a.visited {
	color: inherit;
	text-decoration: underline;
}

.pdf-relative-link-path {
	font-size: 80%;
	color: #444;
}

h1,
h2,
h3 {
	letter-spacing: -0.01em;
	line-height: 1.2;
	font-weight: 600;
	margin-bottom: 0;
}

.page-title {
	font-size: 2.5rem;
	font-weight: 700;
	margin-top: 0;
	margin-bottom: 0.75em;
}

h1 {
	font-size: 1.875rem;
	margin-top: 1.875rem;
}

h2 {
	font-size: 1.5rem;
	margin-top: 1.5rem;
}

h3 {
	font-size: 1.25rem;
	margin-top: 1.25rem;
}

.source {
	border: 1px solid #ddd;
	border-radius: 3px;
	padding: 1.5em;
	word-break: break-all;
}

.callout {
	border-radius: 3px;
	padding: 1rem;
}

figure {
	margin: 1.25em 0;
	page-break-inside: avoid;
}

figcaption {
	opacity: 0.5;
	font-size: 85%;
	margin-top: 0.5em;
}

mark {
	background-color: transparent;
}

.indented {
	padding-left: 1.5em;
}

hr {
	background: transparent;
	display: block;
	width: 100%;
	height: 1px;
	visibility: visible;
	border: none;
	border-bottom: 1px solid rgba(55, 53, 47, 0.09);
}

img {
	max-width: 100%;
}

@media only print {
	img {
		max-height: 100vh;
		object-fit: contain;
	}
}

@page {
	margin: 1in;
}

.collection-content {
	font-size: 0.875rem;
}

.column-list {
	display: flex;
	justify-content: space-between;
}

.column {
	padding: 0 1em;
}

.column:first-child {
	padding-left: 0;
}

.column:last-child {
	padding-right: 0;
}

.table_of_contents-item {
	display: block;
	font-size: 0.875rem;
	line-height: 1.3;
	padding: 0.125rem;
}

.table_of_contents-indent-1 {
	margin-left: 1.5rem;
}

.table_of_contents-indent-2 {
	margin-left: 3rem;
}

.table_of_contents-indent-3 {
	margin-left: 4.5rem;
}

.table_of_contents-link {
	text-decoration: none;
	opacity: 0.7;
	border-bottom: 1px solid rgba(55, 53, 47, 0.18);
}

table,
th,
td {
	border: 1px solid rgba(55, 53, 47, 0.09);
	border-collapse: collapse;
}

table {
	border-left: none;
	border-right: none;
}

th,
td {
	font-weight: normal;
	padding: 0.25em 0.5em;
	line-height: 1.5;
	min-height: 1.5em;
	text-align: left;
}

th {
	color: rgba(55, 53, 47, 0.6);
}

ol,
ul {
	margin: 0;
	margin-block-start: 0.6em;
	margin-block-end: 0.6em;
}

li > ol:first-child,
li > ul:first-child {
	margin-block-start: 0.6em;
}

ul > li {
	list-style: disc;
}

ul.to-do-list {
	text-indent: -1.7em;
}

ul.to-do-list > li {
	list-style: none;
}

.to-do-children-checked {
	text-decoration: line-through;
	opacity: 0.375;
}

ul.toggle > li {
	list-style: none;
}

ul {
	padding-inline-start: 1.7em;
}

ul > li {
	padding-left: 0.1em;
}

ol {
	padding-inline-start: 1.6em;
}

ol > li {
	padding-left: 0.2em;
}

.mono ol {
	padding-inline-start: 2em;
}

.mono ol > li {
	text-indent: -0.4em;
}

.toggle {
	padding-inline-start: 0em;
	list-style-type: none;
}

/* Indent toggle children */
.toggle > li > details {
	padding-left: 1.7em;
}

.toggle > li > details > summary {
	margin-left: -1.1em;
}

.selected-value {
	display: inline-block;
	padding: 0 0.5em;
	background: rgba(206, 205, 202, 0.5);
	border-radius: 3px;
	margin-right: 0.5em;
	margin-top: 0.3em;
	margin-bottom: 0.3em;
	white-space: nowrap;
}

.collection-title {
	display: inline-block;
	margin-right: 1em;
}

.simple-table {
	margin-top: 1em;
	font-size: 0.875rem;
	empty-cells: show;
}
.simple-table td {
	height: 29px;
	min-width: 120px;
}

.simple-table th {
	height: 29px;
	min-width: 120px;
}

.simple-table-header-color {
	background: rgb(247, 246, 243);
	color: black;
}
.simple-table-header {
	font-weight: 500;
}

time {
	opacity: 0.5;
}

.icon {
	display: inline-block;
	max-width: 1.2em;
	max-height: 1.2em;
	text-decoration: none;
	vertical-align: text-bottom;
	margin-right: 0.5em;
}

img.icon {
	border-radius: 3px;
}

.user-icon {
	width: 1.5em;
	height: 1.5em;
	border-radius: 100%;
	margin-right: 0.5rem;
}

.user-icon-inner {
	font-size: 0.8em;
}

.text-icon {
	border: 1px solid #000;
	text-align: center;
}

.page-cover-image {
	display: block;
	object-fit: cover;
	width: 100%;
	max-height: 30vh;
}

.page-header-icon {
	font-size: 3rem;
	margin-bottom: 1rem;
}

.page-header-icon-with-cover {
	margin-top: -0.72em;
	margin-left: 0.07em;
}

.page-header-icon img {
	border-radius: 3px;
}

.link-to-page {
	margin: 1em 0;
	padding: 0;
	border: none;
	font-weight: 500;
}

p > .user {
	opacity: 0.5;
}

td > .user,
td > time {
	white-space: nowrap;
}

input[type="checkbox"] {
	transform: scale(1.5);
	margin-right: 0.6em;
	vertical-align: middle;
}

p {
	margin-top: 0.5em;
	margin-bottom: 0.5em;
}

.image {
	border: none;
	margin: 1.5em 0;
	padding: 0;
	border-radius: 0;
	text-align: center;
}

.code,
code {
	background: rgba(135, 131, 120, 0.15);
	border-radius: 3px;
	padding: 0.2em 0.4em;
	border-radius: 3px;
	font-size: 85%;
	tab-size: 2;
}

code {
	color: #eb5757;
}

.code {
	padding: 1.5em 1em;
}

.code-wrap {
	white-space: pre-wrap;
	word-break: break-all;
}

.code > code {
	background: none;
	padding: 0;
	font-size: 100%;
	color: inherit;
}

blockquote {
	font-size: 1.25em;
	margin: 1em 0;
	padding-left: 1em;
	border-left: 3px solid rgb(55, 53, 47);
}

.bookmark {
	text-decoration: none;
	max-height: 8em;
	padding: 0;
	display: flex;
	width: 100%;
	align-items: stretch;
}

.bookmark-title {
	font-size: 0.85em;
	overflow: hidden;
	text-overflow: ellipsis;
	height: 1.75em;
	white-space: nowrap;
}

.bookmark-text {
	display: flex;
	flex-direction: column;
}

.bookmark-info {
	flex: 4 1 180px;
	padding: 12px 14px 14px;
	display: flex;
	flex-direction: column;
	justify-content: space-between;
}

.bookmark-image {
	width: 33%;
	flex: 1 1 180px;
	display: block;
	position: relative;
	object-fit: cover;
	border-radius: 1px;
}

.bookmark-description {
	color: rgba(55, 53, 47, 0.6);
	font-size: 0.75em;
	overflow: hidden;
	max-height: 4.5em;
	word-break: break-word;
}

.bookmark-href {
	font-size: 0.75em;
	margin-top: 0.25em;
}

.sans { font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"; }
.code { font-family: "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; }
.serif { font-family: Lyon-Text, Georgia, ui-serif, serif; }
.mono { font-family: iawriter-mono, Nitti, Menlo, Courier, monospace; }
.pdf .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK JP'; }
.pdf:lang(zh-CN) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK SC'; }
.pdf:lang(zh-TW) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK TC'; }
.pdf:lang(ko-KR) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK KR'; }
.pdf .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.pdf .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK JP'; }
.pdf:lang(zh-CN) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK SC'; }
.pdf:lang(zh-TW) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK TC'; }
.pdf:lang(ko-KR) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK KR'; }
.pdf .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.highlight-default {
	color: rgba(55, 53, 47, 1);
}
.highlight-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(120, 119, 116, 1);
}
.highlight-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(159, 107, 83, 1);
}
.highlight-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(217, 115, 13, 1);
}
.highlight-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 145, 47, 1);
}
.highlight-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(68, 131, 97, 1);
}
.highlight-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(51, 126, 169, 1);
}
.highlight-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(144, 101, 176, 1);
}
.highlight-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.highlight-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(212, 76, 71, 1);
}
.highlight-gray_background {
	background: rgba(241, 241, 239, 1);
}
.highlight-brown_background {
	background: rgba(244, 238, 238, 1);
}
.highlight-orange_background {
	background: rgba(251, 236, 221, 1);
}
.highlight-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.highlight-teal_background {
	background: rgba(237, 243, 236, 1);
}
.highlight-blue_background {
	background: rgba(231, 243, 248, 1);
}
.highlight-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.highlight-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.highlight-red_background {
	background: rgba(253, 235, 236, 1);
}
.block-color-default {
	color: inherit;
	fill: inherit;
}
.block-color-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(120, 119, 116, 1);
}
.block-color-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(159, 107, 83, 1);
}
.block-color-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(217, 115, 13, 1);
}
.block-color-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 145, 47, 1);
}
.block-color-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(68, 131, 97, 1);
}
.block-color-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(51, 126, 169, 1);
}
.block-color-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(144, 101, 176, 1);
}
.block-color-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.block-color-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(212, 76, 71, 1);
}
.block-color-gray_background {
	background: rgba(241, 241, 239, 1);
}
.block-color-brown_background {
	background: rgba(244, 238, 238, 1);
}
.block-color-orange_background {
	background: rgba(251, 236, 221, 1);
}
.block-color-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.block-color-teal_background {
	background: rgba(237, 243, 236, 1);
}
.block-color-blue_background {
	background: rgba(231, 243, 248, 1);
}
.block-color-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.block-color-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.block-color-red_background {
	background: rgba(253, 235, 236, 1);
}
.select-value-color-pink { background-color: rgba(245, 224, 233, 1); }
.select-value-color-purple { background-color: rgba(232, 222, 238, 1); }
.select-value-color-green { background-color: rgba(219, 237, 219, 1); }
.select-value-color-gray { background-color: rgba(227, 226, 224, 1); }
.select-value-color-opaquegray { background-color: rgba(255, 255, 255, 0.0375); }
.select-value-color-orange { background-color: rgba(250, 222, 201, 1); }
.select-value-color-brown { background-color: rgba(238, 224, 218, 1); }
.select-value-color-red { background-color: rgba(255, 226, 221, 1); }
.select-value-color-yellow { background-color: rgba(253, 236, 200, 1); }
.select-value-color-blue { background-color: rgba(211, 229, 239, 1); }

.checkbox {
	display: inline-flex;
	vertical-align: text-bottom;
	width: 16;
	height: 16;
	background-size: 16px;
	margin-left: 2px;
	margin-right: 5px;
}

.checkbox-on {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%2358A9D7%22%2F%3E%0A%3Cpath%20d%3D%22M6.71429%2012.2852L14%204.9995L12.7143%203.71436L6.71429%209.71378L3.28571%206.2831L2%207.57092L6.71429%2012.2852Z%22%20fill%3D%22white%22%2F%3E%0A%3C%2Fsvg%3E");
}

.checkbox-off {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20x%3D%220.75%22%20y%3D%220.75%22%20width%3D%2214.5%22%20height%3D%2214.5%22%20fill%3D%22white%22%20stroke%3D%22%2336352F%22%20stroke-width%3D%221.5%22%2F%3E%0A%3C%2Fsvg%3E");
}
	
</style></head><body><article id="e3252a04-3b0c-4618-a0ff-fa15e3a3c4cc" class="page sans"><header><h1 class="page-title">Lab 5: Yelp</h1></header><div class="page-body"><h3 id="711fa111-0cb9-4562-acdb-501dcb3fb14e" class="">OIDD 2450 Tambe</h3><figure id="04898bd9-6c23-4a06-9f5f-60df062f5ce6" class="image"><a href="Lab%205%20Yelp%20e3252a043b0c4618a0fffa15e3a3c4cc/Untitled.png"><img style="width:336px" src="Lab%205%20Yelp%20e3252a043b0c4618a0fffa15e3a3c4cc/Untitled.png"/></a></figure><h2 id="7fc88f40-b9d6-4231-8879-6f4345c87cdb" class="">Objective:</h2><p id="85548099-9830-48ef-a507-f384a067c3bb" class="">To text mine online reviews from <strong>Yelp</strong> to identify restaurants that can be recommended for lunch, and thereby improve ad targeting effectiveness. This lab is typical of the type of a project done by data scientists “in the wild”.</p><h2 id="f8770d67-4fec-49ab-bac7-e2746872e3e1" class="">Background:</h2><p id="fc00d006-18d0-4892-9e2f-e1ba3a2072f7" class="">Yelp earns revenue from business owners who pay for online advertising. Therefore, the effectiveness of its ad targeting is a key differentiator. It is unique among existing ad platforms for its 148 million reviews of restaurants.</p><p id="5f795c51-6a41-477d-b3da-86d378d9289e" class="">This massive database of online reviews is useful for improving <strong>ad targeting effectiveness</strong>.</p><p id="a1eac2e0-c6e6-4596-b1c4-c90a6ccc79af" class="">Assume that Yelp prioritizes restaurants that are known to be &quot;good for lunch&quot; when showing ads to users who visit the website after breakfast but before 2 pm.</p><p id="6249d2fa-d4cc-4ade-9bac-8520799f38ec" class="">For <em>most</em> establishments in their data, Yelp has access to a binary (i.e. 0/1) variable called &quot;GoodforLunch&quot; that specifies whether the restaurant is a suitable lunch destination. This variable is provided (i.e. self-reported) by business owners.</p><p id="a5791d87-d0d2-447f-894d-b00d7ae2f6ee" class="">However, around 15% of restaurants in their database have missing values for this attribute because business owners have not provided a value. One of the goals of this lab is to use the online text review data – i.e. what consumers have said about their experiences at the restaurant – to make predictions about whether restaurants with missing values are likely to fall into the &quot;good for lunch&quot; category. Therefore, you are asked to 1) process the text in Yelp&#x27;s reviews, 2) summarize, and create quantitative measures from these text reviews, and 3) use them to predict whether restaurants with missing data for this field are &quot;good for lunch&quot; based on what customers have said about the restaurant in the reviews (and thereby improve ad targeting effectiveness).</p><h2 id="54ba2c96-c8e0-44e8-9ba0-355cf036a8b8" class="">Data:</h2><p id="ecaf901b-33fd-474c-81e4-8c189a7c417f" class="">A sample of 20,000 online restaurant <a href="https://upenn.box.com/s/1xpoct4y8u0pa6oadg5qu4fcntj6bp7a">reviews from Yelp.com are available here</a>. (15 MB)</p><h2 id="8aabe05e-f41d-4b17-8d0f-1b66b486480c" class="">Due Date and Deliverables:</h2><p id="2b7143ad-b51d-4bb0-890c-dfcebcbc6af4" class="">Prepare an R notebook with answers to the following questions (or an R script with an accompanying Word file with responses to the questions). You are encouraged to work in groups, but <strong>submit your own, individual solutions to Canvas</strong>.</p><h2 id="e24c8269-4266-4b94-bbf1-5d4ee2e856a2" class="">Part 1. Summary Statistics</h2><p id="49a7b176-13fc-44ff-b2a6-4da47c2dd182" class="">Provide the following summary statistics about the data set.</p><ul id="4213bf88-8869-4e02-b8a5-6f2439c75d57" class="bulleted-list"><li style="list-style-type:disc">Generate a histogram of all restaurant ratings (i.e. &quot;stars&quot;) given by users in the dataset. You can use <code>hist</code> or <code>geom_hist</code> if you prefer to use ggplot.</li></ul><ul id="39e665e9-ca3b-4cda-b38c-b41a3e2fed63" class="bulleted-list"><li style="list-style-type:disc">How many reviews has the average restaurant in this sample received? There are many ways to summarize a value by a group such as a restaurant id. You can use the <code>aggregate</code> function, (or the <code>summarise</code> and <code>group_by</code> functions if you are using the <code>plyr</code> or <code>dplyr</code> packages). You can also use the <code>table</code> command, convert the output to a data frame, and take means of the appropriate columns.</li></ul><ul id="edad810b-a18d-4969-9303-9f2a0126e361" class="bulleted-list"><li style="list-style-type:disc">How many reviews has the average user in this sample contributed?</li></ul><ul id="8bb28049-4c18-4f56-a16b-6ceb18d16bf7" class="bulleted-list"><li style="list-style-type:disc">On average, do restaurants that have been marked as “GoodforLunch” receive a greater number of reviews?</li></ul><ul id="2ddffa1e-8dde-4c50-ba7c-8d09776f54ad" class="bulleted-list"><li style="list-style-type:disc">Do they receive a higher number of stars?</li></ul><h2 id="e0fda93b-877a-4dc5-8cc0-9ef8b65210ef" class="">Part 2. Exploratory Text Analysis<a href="about:blank#exploratory-text-analysis"></a></h2><ul id="1504e9fb-9856-4261-bcbd-556165e10760" class="bulleted-list"><li style="list-style-type:disc">Convert the reviews into a text corpus using <code>VCorpus</code> (located in the <code>tm</code> package).</li></ul><ul id="be570d79-6eb6-4ec4-b2cc-0af9869f0d39" class="bulleted-list"><li style="list-style-type:disc">Clean the reviews by eliminating &quot;stopwords&quot;, removing whitespace, and converting words to lowercase. You may also choose to make other adjustments, such as removing punctuation and numbers.</li></ul><ul id="7aac82b6-f2bf-4e02-9dfb-2becf6303ced" class="bulleted-list"><li style="list-style-type:disc">Generate a document-term matrix from the Corpus.</li></ul><ul id="5ff914b8-fc2f-4100-b584-a5eefc5aa459" class="bulleted-list"><li style="list-style-type:disc"><strong>Use the document-term matrix to provide answers to the following questions.</strong><ul id="342414c9-a544-4d4b-a2a3-b5e34f39e273" class="bulleted-list"><li style="list-style-type:circle">Provide a list of the ten <strong>most frequently appearing words</strong> among all reviews. To do this, compute the sum of columns in the document term matrix for each word, and report the words with the ten highest sums.</li></ul><ul id="521216ac-809e-46c7-9cd1-9d9d680ea6cc" class="bulleted-list"><li style="list-style-type:circle">Generate a <strong>word cloud</strong> using the document-term matrix, where the word is sized by its frequency in the review (this kind of sizing is the default). Set a maximum of no more than 100 or so words (this is an option that can be passed to the wordcloud function).</li></ul></li></ul><h2 id="e5f50730-897d-4f39-ad78-f6afac69821b" class="">Part 3. Text analytics and prediction</h2><p id="fa10f1c2-bb3d-43cf-a0ef-39cf27a8a51b" class="">We will be using a &quot;unigram&quot;&quot; text model (i.e. only using single words, not word combinations) to predict the value of the variable &quot;GoodforLunch&quot;. For this exercise, the document-term matrix you generated above contains your predictor variables – i.e., the words used in the reviews – and GoodforLunch is the outcome variable to be predicted. <strong>Note</strong>: Many of the following steps can be executed by calling only one function, but require data manipulation that may require you to think carefully about how to access the right rows and columns. Be prepared to sketch out what you are doing from step-to-step, and don&#x27;t be afraid to try a few different things and check the output at each step along the way.</p><ul id="e639b3cb-b0e0-4a74-a817-0a9e6c7c9ac7" class="bulleted-list"><li style="list-style-type:disc">How many <em>unique</em> terms are in your document-term matrix?</li></ul><ul id="b5e6f9b9-bb0b-4ac5-9173-19dd68682d5e" class="bulleted-list"><li style="list-style-type:disc">Use the following steps, which we discussed in class, to further narrow the list to 200 words with the most predictive power.<ul id="c907b613-29fb-4715-b714-94bd1f2885e9" class="bulleted-list"><li style="list-style-type:circle">Remove sparse terms using <code>RemoveSparseTerms</code> and a 0.990 threshold for the sparsity parameter</li></ul><ul id="d1ab5d4a-c0f8-4251-bbc2-4e2f0a611d6a" class="bulleted-list"><li style="list-style-type:circle">Calculate the correlation matrix between the words in the document-term matrix and <em>goodforlunch</em></li></ul><ul id="00fc9109-710e-4635-85d9-43a80eb830f3" class="bulleted-list"><li style="list-style-type:circle">Keep only the 200 terms with the highest correlation magnitudes (i.e. positive or negative)</li></ul><ul id="b776a356-0096-4661-9cb8-6360955eb529" class="bulleted-list"><li style="list-style-type:circle">Create a new document-term matrix containing only these words.</li></ul></li></ul><ul id="4a8bf509-e252-44b8-919a-b30a7f69c91a" class="bulleted-list"><li style="list-style-type:disc">Using the top 20 positive and negative words in terms of correlation strength, generate a wordcloud where the size corresponds to the correlation strength, and where positive and negative terms are shown in different colors. Explore <code>wordcloud</code> help and the options that the wordcloud function takes to figure out how to do this.</li></ul><p id="c557b4cd-c90c-40b3-a229-6315c250aaae" class="">Partition the matrix into training and test rows so you can use the test data to evaluate your model performance. Set the last 20% of your rows aside for testing, and use the first 80% to build your model as specified below.</p><ul id="4ef3d2fd-5adf-4573-905c-2ab620cf787e" class="bulleted-list"><li style="list-style-type:disc">Fit a logistic regression model to the selected variables in the training data.</li></ul><ul id="3394ee4d-d6b3-4ad9-b52c-09f966344b17" class="bulleted-list"><li style="list-style-type:disc">A positive coefficient positively predicts that a restaurant is good for lunch. A negative coefficient suggests a restaurant would not be good for lunch. You can use the <code>coef</code> command to access the model coefficients. Produce a word cloud that separates the top 15 positive words and top 15 negative words. Plot these two groups in different colors. You can pass your color choices into the <code>wordcloud</code> function.</li></ul><ul id="21350246-43c7-4107-945b-4eb3cf87e7cf" class="bulleted-list"><li style="list-style-type:disc">Using the model you have generated, choose a probability threshold to maximize accuracy and classify the restaurants in your training data as 1 or 0 according to whether they are &quot;GoodForLunch&quot;. How well does this model perform on the training data in terms of classification accuracy (i.e. the percentage of GoodForLunch values that you get correct)?</li></ul><ul id="2601352a-9d10-469c-a100-7718aaa6a000" class="bulleted-list"><li style="list-style-type:disc">Predict values for &quot;GoodforLunch&quot;&quot; in your <em>test</em> data. How well does the model perform in terms of classification accuracy (i.e. the percentage of GoodForLunch values that you get correct)?</li></ul><h2 id="7b163849-44a7-4e0f-9934-4e3bc5979db4" class="">Part 4. Sentiment Analysis</h2><p id="bf095e4c-3833-48c3-bf1f-7bfc8a5cdb48" class="">How do web platforms let reviewers know when they have written a good review? Yelp solves this problem by allowing reviews to be voted “Useful”, “Funny”, or “Cool” by other readers. Identifying what characteristics of reviews that tend to garner these “UFC” votes from other readers has been the subject of some discussion among Yelp reviewers (e.g. <a href="https://www.yelp.com/topic/columbus-what-does-receiving-useful-funny-cool-clicks-mean-to-you">1</a>, <a href="https://www.yelp.com/topic/boston-whats-your-yelp-ufc-rating-mines-3-5-can-i-buy-you-a-drink">2</a>, <a href="https://www.yelp.com/topic/san-diego-ufc-votes-no-not-ultimate-fighting-championship">3</a>). Using a sentiment analysis package (e.g. <code>syuzhet</code> or <code>tidytext</code>), analyze whether reviews that have more emotional valence (i.e. sentiment) tend to garner more UFC votes.</p><ul id="cf00dc6f-73ac-4a0b-a214-78d4ebb3ff77" class="bulleted-list"><li style="list-style-type:disc">For each review, create a combined “UFC” score by adding the funny, useful, and cool votes for each review.</li></ul><ul id="59017258-730d-4cf2-b4f4-182baf01eed5" class="bulleted-list"><li style="list-style-type:disc">Use a sentiment analysis package (e.g. <code>syuzhet</code> or <code>tidytext</code>) to analyze the sentiment of the text of each review. Choose a sentiment computation method that produces a numeric score (e.g. -5 to 5) rather than a category (happy, angry, sad).</li></ul><ul id="1d338d22-be43-4c63-81a4-32288b2bfeb9" class="bulleted-list"><li style="list-style-type:disc">Using this sentiment score, create a new column that identifies whether reviews in your data are above or below the <em>median</em> sentiment score for all of the reviews in your sample.</li></ul><ul id="f9834d39-da7e-416f-9d3e-a0317d7020b2" class="bulleted-list"><li style="list-style-type:disc">Finally, create a bar chart that compares the mean UFC score for reviews that are above and below the median sentiment score. It should have only two bars!</li></ul><ul id="89b5a111-424f-48b3-aeb6-82bd78d46be9" class="bulleted-list"><li style="list-style-type:disc"><strong>Optional</strong>: For a more statistically correct comparison, use the <code>t.test</code> command to test if the UFC score across the high and low sentiment groups is different at a level that is statistically significant.</li></ul><h2 id="7c3c4b63-1d1c-4c5e-b739-9e18e8467495" class="">Part 5: Feature engineering to predict review helpfulness</h2><p id="0c61b330-821c-401e-8ebf-af6fc767b2b7" class="">In this section, you are asked to use <strong>all</strong> of the review text to predict whether or not a review garners at least one “Useful” vote. However, here, you are not told the “x” variables to use for prediction. Instead, you are asked to <em>generate</em> these features from the review text that can help predict this binary variable. These can include the sentiment measure from Part 4, but it should not be limited to sentiment.</p><p id="1d31b256-bcca-4283-b50d-d9c1dc5feaef" class="">This is a process known as “feature engineering”. Identifying specific words that are predictive of helpfulness is one approach but there are many others. For example, you could use a measure of whether there are typographical errors or you could count the number of capital letters. This question is left <strong>purposely open ended</strong>, as there are a large number of new variables you may be able to create, and this question is meant to illustrate the challenges when you have to engineer features from raw data.</p><p id="657b8245-7168-472c-b6ed-ba331fe20153" class="">You should generate at least two “features” from the review data (beyond sentiment) and use them to generate predictions. The deliverable for this question is the model and accuracy levels for the best feature set you can create (in terms of prediction accuracy). After you have generated features that you like, please add your name, accuracy score, and the features you used to <a href="https://docs.google.com/spreadsheets/d/1-3ai9w64XhID8UXA5WpQ_JGZDvLZh1Zcwjyr8ySbbXY/edit?usp=sharing">this spreadsheet</a>. Feel free to go back and add any new features to your model and further improve the accuracy, but then add each iteration to a new row in the spreadsheet and change the “Submission Number” field accordingly.</p><ul id="009045e6-9095-45e0-9d64-69f5431903ce" class="bulleted-list"><li style="list-style-type:disc"><strong>Step 1</strong>: First create a new binary variable indicating whether a review has at least one useful vote.</li></ul><ul id="491c84ff-b90a-4409-b3da-364ed378705c" class="bulleted-list"><li style="list-style-type:disc"><strong>Step 2</strong>: From the review text, create “features” that you can use in a predictive logistic regression model to predict your new binary dependent variable.</li></ul><ul id="1d75af04-2c95-41d1-abbb-c31902bb9524" class="bulleted-list"><li style="list-style-type:disc"><strong>Step 3</strong>: Divide the sample into a training and test data set (first 80% and last 20%), and using the <strong>training</strong> data, build a logistic regression model to predict the helpfulness variable using the features you created.</li></ul><ul id="7d94c8c2-5e93-4867-bbbf-7ccc00e946e7" class="bulleted-list"><li style="list-style-type:disc"><strong>Step 4</strong>: Consider that if you predicted that every row was a 0 or 1 (not helpful), you could already have a baseline high level of accuracy. Relative to those approaches, how much better does your model do?</li></ul><ul id="520892fb-f314-4f4f-816f-e840014d2a72" class="bulleted-list"><li style="list-style-type:disc"><strong>Step 5</strong>: Go back and adjust your features to see if you can build an improved model!</li></ul></div></article></body></html>